---
layout: default
title: 图片展示
---

<style>

  main {    
    padding: 100px 20px;
    max-width: 1400px;
    margin: 0 auto;
  }
  
  .gallery {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 20px;
  }

  .gallery-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    border: 1px solid #eee;
    padding: 10px;
    border-radius: 5px;
    background: #f9f9f9;
    aspect-ratio: 16/9;
  }

  .gallery-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 3px;
    margin-bottom: 10px;
  }

  .filepath {
    font-size: 14px;
    color: #555;
    word-break: break-all;
    text-align: center;
  }

  .folder-tabs {
    display: flex;
    margin-bottom: 20px;
    border-bottom: 1px solid var(--VI-color);
    overflow-x: auto;
  }

  .folder-tab {
    color: black;
    background-color: unset;
    border: 1px solid var(--VI-color);
    border-bottom: aliceblue;
    padding: 10px 20px;
    margin-right: 5px;
    font-size: 14px;
    border-radius: unset;
  }

  .folder-tab.active {
   background-color: var(--VI-color);
   color: white;
  }

   @media (max-width: 768px) {
  .gallery {
    grid-template-columns: repeat(2, 1fr);
  }
  .gallery-item{
    aspect-ratio: unset;
  }
  }

  
</style>

<div class="folder-tabs">
  <button class="folder-tab active" data-folder="">所有文件夹</button>
</div>

<div class="gallery">
  {% assign image_files = site.static_files | where_exp: 'file', 'file.path contains "/assets/images/"' %}
  {% assign sorted_images = image_files | sort: 'modified_time' | reverse %}

  {% for image in sorted_images %}
    {% assign parts = image.path | split: '/' %}
    {% assign foldername = parts[-2] %}
    {% assign filename = parts[-1] %}
    <div class="gallery-item" data-folder="{{ foldername }}">
      <img
        src="{{ image.path | relative_url }}"
        alt="{{ filename }}"
        loading="lazy"
      >
      <div class="filepath">{{ foldername }}/{{ filename }}</div>
    </div>
  {% endfor %}
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // DOM 元素
    const galleryItems = document.querySelectorAll('.gallery .gallery-item');
    const folderTabs = document.querySelector('.folder-tabs');

    // 填充文件夹标签（tab）
    function populateFolderTabs() {
      const folders = new Set();

      galleryItems.forEach(item => {
        folders.add(item.dataset.folder);
      });

      folders.forEach(folder => {
        const tab = document.createElement('button');
        tab.classList.add('folder-tab');
        tab.dataset.folder = folder;
        tab.textContent = folder;
        folderTabs.appendChild(tab);
      });
    }

    // 更新文件夹筛选函数
    function updateFolderFilters(selectedFolder) {
      galleryItems.forEach(item => {
        const itemFolder = item.dataset.folder;

        const showFolder = !selectedFolder || itemFolder === selectedFolder;

        item.style.display = showFolder ? 'block' : 'none';
      });
    }

    // 绑定文件夹标签（tab）点击事件
    folderTabs.addEventListener('click', function(event) {
      if (event.target.classList.contains('folder-tab')) {
        const selectedFolder = event.target.dataset.folder;

        // 移除所有标签（tab）的 active 类
        folderTabs.querySelectorAll('.folder-tab').forEach(tab => {
          tab.classList.remove('active');
        });

        // 为当前点击的标签（tab）添加 active 类
        event.target.classList.add('active');

        // 更新文件夹筛选
        updateFolderFilters(selectedFolder);
      }
    });

    // 初始填充文件夹标签（tab）和筛选
    populateFolderTabs();
    updateFolderFilters(''); // 默认显示所有文件夹
  });
</script>
